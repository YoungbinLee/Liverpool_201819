setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
colourpicker:::colourPickerAddin()
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = ,
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Roberto Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
Awayscorer = c(4, 9, 9, -3)
Awayscorer1 = unique(Awayscorer[Awayscorer > 0])
!is.null(Awayscorer)
A1 <- data.frame(table(Awayscorer[Awayscorer %in% Awayscorer1]))
A1
Awayscorer2 = unique(Awayscorer[Awayscorer < 0])
Awayscorer2
A2 <- data.frame(table(Awayscorer[Awayscorer %in% Awayscorer2]))
A2
A2$Var1 <- abs(as.numeric(as.character(A2$Var1)))
A2
if(nrow(A1)==0){
A1 <- data.frame(matrix(ncol=2,nrow=0))
colnames(A1) <- c("Var1","Goal")
}
A1
source('~/Desktop/R/Liverpool_201819/FootballResult.R', echo=TRUE)
if(nrow(A2)==0){
A2 <- data.frame(matrix(ncol=2,nrow=0))
colnames(A2) <- c("Var1","OG")
}
A2
AG <- merge(A1, A2, by = "Var1", all=TRUE)
AG
A2
str(A1)
str(A2)
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="AppleColorEmoji",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = ,
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Roberto Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="DejaVuSansMonoPowerline",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = ,
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Roberto Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
nrow(scorertable[[2]])==0
if(!is.null(Awayscorer)){
Awayscorer1 = unique(Awayscorer[Awayscorer > 0])
A1 <- data.frame(table(Awayscorer[Awayscorer %in% Awayscorer1]))
Awayscorer2 = unique(Awayscorer[Awayscorer < 0])
A2 <- data.frame(table(Awayscorer[Awayscorer %in% Awayscorer2]))
A2$Var1 <- as.character(abs(as.numeric(as.character(A2$Var1))))
if(nrow(A1)==0){
A1 <- data.frame(matrix(ncol=2,nrow=0), stringsAsFactors = FALSE)
colnames(A1) <- c("Var1","Goal")
}
if(nrow(A2)==0){
A2 <- data.frame(matrix(ncol=2,nrow=0), stringsAsFactors = FALSE)
colnames(A2) <- c("Var1","OG")
}
AG <- merge(A1, A2, by = "Var1", all=TRUE)
AG$Var1 <- as.character(AG$Var1)
names(AG) <- c("Var1","Goal","OG")
AG[is.na(AG)] <- 0
}else{
AG <- data.frame()
}
AG
scorertable <- list(HG, AG)
HG <- data.frame()
scorertable <- list(HG, AG)
scorertable
nrow(scorertable[[1]])==0
nrow(scorertable[[2]])==0
Homescorer[Homescorer >0]
Homescorer = NULL
length(Homescorer[Homescorer >0])
length(Awayscorer[Awayscorer <0])
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = ,
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Roberto Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
library(data.table)
library(tidyverse)
listv <- dir("~/Downloads/") %>%
grep(pattern = "^ta_*")
file <- dir("~/Downloads/")[listv]
rst <- data.frame(date = as.character(),
code = as.numeric(),
loc = as.character(),
avg = as.numeric(),
min = as.numeric(),
max = as.numeric())
for(i in file){
loc <- read.csv(i, header = FALSE, fileEncoding = 'euc-kr', nrows = 1, skip = 4)
loc <- trimws(str_split(loc$V1, ":")[[1]][2])
df <- read.csv(i, header = FALSE, fileEncoding = 'euc-kr', skip = 8,
stringsAsFactors = FALSE) %>%
mutate(loc = loc) %>%
rename(date = V1, code = V2, avg = V3, min = V4, max = V5)
rst <- bind_rows(rst, df)
}
loc <- read.csv(i, header = FALSE, fileEncoding = 'euc-kr', nrows = 1, skip = 4)
loc <- trimws(str_split(loc$V1, ":")[[1]][2])
df <- read.csv(i, header = TRUE, fileEncoding = 'euc-kr', skip = 6) %>%
mutate(loc = loc) %>%
rename(date, code, avg, min, max)
rst <- bind_rows(rst, df)
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = ,
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
colourpicker:::colourPickerAddin()
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = c("#078DA8"),
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
setwd("/Users/youngbin/Desktop/R/Liverpool_201819")
source("FootballResult.R")
CairoFonts(
regular="ComicSansMS",
bold="FreeSans:style=Bold",
italic="FreeSans:style=Oblique",
bolditalic="FreeSans:style=BoldOblique"
)
Hometeam = 'Bayern Munich'
Awayteam = 'Liverpool'
CairoPDF(file = paste("CL/Champions League Round of 16 2nd leg ",
Hometeam, " vs ", Awayteam,
".pdf", sep=""),
width = 10, height = 8)
Football_result(
matchtype = paste("2018/19 CHAMPIONS LEAGUE", "Round of 16 2nd leg", sep=" "),
Hometeam = Hometeam, Awayteam = Awayteam,
Home = "4-2-3-1",
HomeColour = "red", Home2Colour = "red",
HomeGKColour = c("#078DA8"),
HomeLineup = c(
"Neuer",
"Alaba", "Hummels", "Süle", "Rafina",
"Javi Martínez", "Thiago Alcántara",
"Gnabry", "Rodríguez", "Ribéry",
"Lewandowski"
)
,
HomeSub = c("Goretzka 72'", 62, "Renato Sanches 79'", 92),
Away = "4-3-3",
AwayColour = "#D9D9D9", Away2Colour = "#999999",
AwayGKColour = "#00FF00",
AwayLineup = c(
"Alisson",
"Robertson", "Matip", "van Dijk", "Alexander-Arnold",
"Wijnaldum","Henderson","Milner",
"Mané","Firmino","Salah"
)
,
AwaySub = c("Fabinho 13'", 72, "Lallana 87'", 82, "Origi 83'", 102),
Awayscorer = c(4, 9, 9, -3)
)
dev.off()
